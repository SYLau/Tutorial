#
# This Makefile was generated by Code::Blocks IDE.
#

#=============================================================================================
#Following the guide: http://skramm.blogspot.com/2013/04/writing-portable-makefiles.html
#Writing portable makefiles
#Add the following definition of PATHSEP
ifdef ComSpec
    PATHSEP2=\\
else
    PATHSEP2=/
endif
PATHSEP=$(strip $(PATHSEP2))

ifndef ComSpec
    CMDSEP=;
else
    CMDSEP=&
endif

ifdef ComSpec
    RM=del /F /Q
else
    RM=rm -f
endif

ifdef ComSpec
    RM1=rmdir /S /Q obj
	RM2=rmdir /S /Q bin
else
    RM1=rm -r obj
	RM2=rm -r bin
endif
#=============================================================================================
#Starting from here, replace all forward slashes "/" or back slashes "\" with $(PATHSEP)
#Replace all command separators ";" or "&" with $(CMDSEP)
#Replace all mkdir -p $(DIR) lines with if not exist $(DIR) ( @mkdir $(DIR) )
#Replace all rm with ($RM) Or Replace content in clean: with ($RM1), ($RM2)

#To execute .exe with Powershell: ./bin\Debug\code_02.exe

SRCS_f90d1 = \
main.f90 \
module_example.f90 

OBJS_f90d1 = \
main.o \
module_example.o 

SRC_DIR_f90d1 = 
OBJS_DIR = obj$(PATHSEP)Debug$(PATHSEP)
EXE_DIR = bin$(PATHSEP)Debug$(PATHSEP)

EXE = code_02.exe
FC = gfortran
LD = gfortran
IDIR = 
CFLAGS = -Wall -g  -J$(OBJS_DIR) $(IDIR)
LFLAGS = 
LIBS = 

VPATH = $(SRC_DIR_f90d1):$(OBJS_DIR)
OBJS = $(addprefix $(OBJS_DIR), $(OBJS_f90d1))

all : $(EXE)

$(EXE) : $(OBJS_f90d1)
	if not exist $(EXE_DIR) ( @mkdir $(EXE_DIR) )
	$(LD) -o $(EXE_DIR)$(EXE) $(OBJS) $(LFLAGS) $(LIBS)

$(OBJS_f90d1):
	if not exist $(OBJS_DIR) (@mkdir $(OBJS_DIR) )
	$(FC) $(CFLAGS) -c $(SRC_DIR_f90d1)$(@:.o=.f90) -o $(OBJS_DIR)$@

clean :
#	$(RM) $(OBJS_DIR)*.*
#	$(RM) $(EXE_DIR)$(EXE)
	$(RM1)
	$(RM2)

# Dependencies of files
main.o: \
    main.f90 \
    module_example.o
module_example.o: \
    module_example.f90

